{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mark\\\\dev\\\\IMTS-Blog\\\\imts-blogg\\\\imts-blogg\\\\pages\\\\blog\\\\[slug].js\";\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport Link from 'next/link'; // data\n\nimport { getAllPostsWithSlug, getPost } from '../../lib/api'; // styles\n\nimport styles from '../../styles/Home.module.css';\nimport blogStyles from '../../styles/Blog.module.css';\nexport default function Post({\n  postData\n}) {\n  const router = useRouter();\n\n  if (!router.isFallback && !(postData !== null && postData !== void 0 && postData.slug)) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"hmm...looks like an error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 12\n    }, this);\n  }\n\n  const formatDate = date => {\n    const newDate = new Date(date);\n    return `${newDate.getDate()}/${newDate.getMonth() + 1}/${newDate.getFullYear()}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: postData.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"32x32\",\n        href: \"/favicon-32x32.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"16x16\",\n        href: \"/favicon-16x16.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.main,\n      children: [router.isFallback ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"article\", {\n        className: blogStyles.article,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: blogStyles.postmeta,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: styles.title,\n            children: postData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatDate(postData.date)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: blogStyles.listitem__content,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-content content\",\n            dangerouslySetInnerHTML: {\n              __html: postData.content\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/blog\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Back to articles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: allPosts.edges.map(({\n      node\n    }) => `/blog/${node.slug}`) || [],\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const data = await getPost(params.slug);\n  return {\n    props: {\n      postData: data.post\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Mark/dev/IMTS-Blog/imts-blogg/imts-blogg/pages/blog/[slug].js"],"names":["useRouter","Head","Link","getAllPostsWithSlug","getPost","styles","blogStyles","Post","postData","router","isFallback","slug","formatDate","date","newDate","Date","getDate","getMonth","getFullYear","container","title","main","article","postmeta","listitem__content","__html","content","getStaticPaths","allPosts","paths","edges","map","node","fallback","getStaticProps","params","data","props","post"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\n\r\n// data\r\nimport { getAllPostsWithSlug, getPost } from '../../lib/api';\r\n\r\n// styles\r\nimport styles from '../../styles/Home.module.css';\r\nimport blogStyles from '../../styles/Blog.module.css';\r\n\r\nexport default function Post({ postData }) {\r\n  const router = useRouter();\r\n\r\n  if (!router.isFallback && !postData?.slug) {\r\n    return <p>hmm...looks like an error</p>;\r\n  }\r\n\r\n  const formatDate = (date) => {\r\n    const newDate = new Date(date);\r\n\r\n    return `${newDate.getDate()}/${\r\n      newDate.getMonth() + 1\r\n    }/${newDate.getFullYear()}`;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Head>\r\n        <title>{postData.title}</title>\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"32x32\"\r\n          href=\"/favicon-32x32.png\"\r\n        />\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"16x16\"\r\n          href=\"/favicon-16x16.png\"\r\n        />\r\n        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n      </Head>\r\n\r\n      <main className={styles.main}>\r\n        {router.isFallback ? (\r\n          <h2>Loading</h2>\r\n        ) : (\r\n          <article className={blogStyles.article}>\r\n            <div className={blogStyles.postmeta}>\r\n              <h1 className={styles.title}>{postData.title}</h1>\r\n              <p>{formatDate(postData.date)}</p>\r\n            </div>\r\n            <div className={blogStyles.listitem__content}>\r\n              <div\r\n                className=\"post-content content\"\r\n                dangerouslySetInnerHTML={{ __html: postData.content }}\r\n              />{' '}\r\n            </div>\r\n          </article>\r\n        )}\r\n        <p>\r\n          <Link href=\"/blog\">\r\n            <a>Back to articles</a>\r\n          </Link>\r\n        </p>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n  const allPosts = await getAllPostsWithSlug();\r\n\r\n  return {\r\n    paths: allPosts.edges.map(({ node }) => `/blog/${node.slug}`) || [],\r\n    fallback: true,\r\n  };\r\n}\r\n\r\nexport async function getStaticProps({ params }) {\r\n  const data = await getPost(params.slug);\r\n\r\n  return {\r\n    props: {\r\n      postData: data.post,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}